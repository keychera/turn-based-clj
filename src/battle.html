<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero</title>
</head>

<body>
    <h3>battle in progress...</h3>
    {{timeline-html|safe}}
    <div id="end">~~~</div>
</body>

<script>
    const endDiv = document.getElementById("end")

    document.body.addEventListener("htmx:afterRequest", (event) => {
        let target = event.detail.target
        let isSuccessful = event.detail.successful
        if (target.id == "state") {
            endDiv.scrollIntoView()
        }
    })
</script>

</html>